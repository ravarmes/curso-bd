<!doctype html>
<html lang='pt-BR'>

<head>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width,initial-scale=1' />
    <title>Cap√≠tulo 3 ‚Äî Modelo L√≥gico Relacional: A Estrutura Formal do Banco</title>
    <link rel='stylesheet' type='text/css' href='../css/style.css' />
    <meta name='description' content='Transforma√ß√£o ER‚ÜíRelacional, chaves (PK/FK), integridade referencial, normaliza√ß√£o (1FN‚Äì3FN), regras de mapeamento, DDL SQL, estudo de caso e exerc√≠cios complementares e integrados.' />
</head>

<body>
    <div class='container'>

        <header>
            <h1 id='cap3'>CAP√çTULO 3 ‚Äì Modelo L√≥gico Relacional: A Estrutura Formal do Banco</h1>
            <p class='lead'>Neste cap√≠tulo, voc√™ aprende o <strong>Modelo L√≥gico Relacional</strong>, a
                <strong>transforma√ß√£o</strong> do <strong>Modelo ER</strong> (conceitual) para o <strong>Modelo
                L√≥gico</strong>, a defini√ß√£o de <strong>tabelas</strong> e <strong>chaves (PK/FK)</strong>, regras de
                <strong>integridade referencial</strong> e a <strong>normaliza√ß√£o</strong> (1FN‚Äì3FN), al√©m do
                <strong>algoritmo de mapeamento ER ‚Üí Modelo L√≥gico</strong> e exemplos de <strong>DDL SQL</strong>.
                Fechamos com um <strong>Estudo de Caso</strong> e exerc√≠cios <strong>Complementares</strong> e
                <strong>Integrados</strong>.</p>
        </header>
        <hr />
        <nav class='toc' aria-label='Sum√°rio do Cap√≠tulo 3'>
            <strong>Sum√°rio:</strong>
            <ul>
                <li><a href='#sec3-1'>3.1 Transforma√ß√£o do Modelo Conceitual em Relacional</a></li>
                <li><a href='#sec3-2'>3.2 Chaves Prim√°rias, Estrangeiras e Integridade Referencial</a></li>
                <li><a href='#sec3-3'>3.3 Normaliza√ß√£o Detalhada: 1FN, 2FN e 3FN</a></li>
                <li><a href='#sec3-4'>3.4 Regras de Mapeamento e Conven√ß√µes</a></li>
                <li><a href='#sec3-5'>3.5 Exportando o C√≥digo DDL SQL</a></li>
                <li><a href='#sec3-6'>3.6 Estudo de Caso: Modelo L√≥gico da Biblioteca</a></li>
                <li><a href='#sec3-7'>3.7 Exerc√≠cios Complementares</a></li>
                <li><a href='#sec3-8'>3.8 Exerc√≠cios Integrados</a></li>
                <li><a href='#sec3-9'>3.9 Gabaritos</a></li>
            </ul>
        </nav>

        <!-- Ferramenta utilizada (nota breve) -->
        <table class='box-table tip-table'>
            <tr>
                <td class='box-content tip definition' role='note' aria-labelledby='def-title-3-0'>
                    <div id='def-title-3-0' class='box-title'><img src='../images/icon-definicao.png' class='icon-img' alt='Defini√ß√£o'><strong>Ferramenta</strong></div>
                    <div>
                        <p><strong>brModelo (Web)</strong> ‚Äî ferramenta CASE para criar <em>Diagramas
                                ER</em>. √â uma ferramenta de modelagem de banco de dados 
                                100% online e gratuita. Ela permite criar e converter projetos nos n√≠veis conceitual, l√≥gico 
                                e f√≠sico (SQL), sendo f√°cil de usar e com projetos acess√≠veis na nuvem. Al√©m disso, √© um projeto 
                                open source.</p>
                    </div>
                </td>
            </tr>
        </table>

        <section id='sec3-1'>
            <h2>3.1 Transforma√ß√£o do Modelo Conceitual em Relacional <a class='self-link' href='#sec3-1' aria-label='Link para esta se√ß√£o'>üîó</a></h2>
            <p>A convers√£o do <strong>Modelo Entidade‚ÄëRelacionamento (ER)</strong> em <strong>Modelo Relacional</strong>
                cria uma cole√ß√£o de <em>tabelas</em> (rela√ß√µes), onde as <em>linhas</em> s√£o <strong>tuplas</strong> e as
                <em>colunas</em> s√£o <strong>atributos</strong>. Os relacionamentos tornam‚Äëse <strong>chaves
                    estrangeiras</strong> ou <strong>tabelas associativas</strong> (para N:M).</p>
            <p>Diretrizes gerais: definir <em>chaves prim√°rias (PK)</em> claras, garantir <em>integridade referencial</em>
                com <em>chaves estrangeiras (FK)</em> e refinar o esquema pela <strong>normaliza√ß√£o</strong> (1FN‚Äì3FN).
                Todos os nomes adotam <strong>snake_case</strong> sem acentos.</p>
            <figure>
                <img src='../images/3-1-er_to_relational.svg' alt='Fluxo ER para Relacional com tabelas, PK e FK.' />
                <figcaption><strong>Figura 3.1 ‚Äî </strong>Do ER para o Relacional: entidades/relacionamentos ‚Üí tabelas, PKs e FKs; N:M ‚Üí tabela associativa.</figcaption>
            </figure>

            <!-- Bloco Defini√ß√µes chave -->
            <table class='box-table tip-table'>
                <tr>
                    <td class='box-content tip' role='note' aria-labelledby='def-title-3-1'>
                        <div id='def-title-3-1' class='box-title'><img src='../images/icon-definicao.png' class='icon-img' alt='Defini√ß√£o'><strong>Defini√ß√£o</strong></div>
                        <div>
                            <p><strong>tupla</strong>: linha da tabela.</p>
                            <p><strong>atributo</strong>: coluna da tabela.</p>
                            <p><strong>esquema</strong>: estrutura da tabela (nome, atributos e restri√ß√µes).</p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec3-2'>
            <h2>3.2 Chaves Prim√°rias, Estrangeiras e Integridade Referencial <a class='self-link' href='#sec3-2' aria-label='Link para esta se√ß√£o'>üîó</a></h2>
            <p><strong>Chaves</strong> identificam registros e conectam tabelas. A <strong>PK</strong> identifica
                <em>unicamente</em> cada tupla; a <strong>FK</strong> referencia a PK de outra tabela para <strong>implantar relacionamentos</strong> e <strong>garantir integridade referencial</strong>.</p>
            <figure>
                <img src='../images/3-2-keys_fk.svg' alt='Modelo l√≥gico: aluno, reserva e livro com PK/FK e cardinalidades 1:N.' />
                <figcaption><strong>Figura 3.2 ‚Äî </strong>Exemplo com <em>aluno</em>, <em>reserva</em> e <em>livro</em>: PKs, FKs e cardinalidades <strong>1:N</strong> conectando tabelas; pol√≠ticas <code>ON DELETE</code> ser√£o tratadas no Cap√≠tulo 4.</figcaption>
            </figure>

            <table class='box-table tip-table'>
                <tr>
                    <td class='box-content tip' role='note' aria-labelledby='def-title-3-2'>
                        <div id='def-title-3-2' class='box-title'><img src='../images/icon-definicao.png' class='icon-img' alt='Defini√ß√£o'><strong>Defini√ß√£o</strong></div>
                        <div>
                            <p><strong>primary key (PK)</strong>: atributo(s) que identificam cada tupla sem repeti√ß√£o e sem <code>NULL</code>.</p>
                            <p><strong>foreign key (FK)</strong>: atributo(s) que referenciam a PK de outra tabela para manter integridade.</p>
                        </div>
                    </td>
                </tr>
            </table>
            <table class='box-table warning-table'>
                <tr>
                    <td class='box-content warning' role='note' aria-labelledby='imp-title-3-2'>
                        <div id='imp-title-3-2' class='box-title'><img src='../images/icon-importante.png' class='icon-img' alt='Importante'><strong>Importante</strong></div>
                        <div>
                            <p>Defina <strong>PK</strong> e <strong>FK</strong> com clareza para manter <strong>integridade referencial</strong>. As <em>pol√≠ticas ON DELETE</em> e demais a√ß√µes ser√£o detalhadas no <strong>Cap√≠tulo 4</strong>.</p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec3-3'>
            <h2>3.3 Normaliza√ß√£o Detalhada: 1FN, 2FN e 3FN <a class='self-link' href='#sec3-3' aria-label='Link para esta se√ß√£o'>üîó</a></h2>
            <p>A <strong>normaliza√ß√£o</strong> minimiza redund√¢ncia e reduz <em>anomalias</em> (inser√ß√£o, atualiza√ß√£o,
                exclus√£o). No conceitual e no l√≥gico, refine at√© pelo menos <strong>3FN</strong>.</p>
            <ol>
                <li><strong>1FN</strong>: somente dados <em>at√¥micos</em>; evitar compostos/multivalorados.</li>
                <li><strong>2FN</strong>: em chave composta, remover <em>depend√™ncia parcial</em>.</li>
                <li><strong>3FN</strong>: remover <em>depend√™ncia transitiva</em> entre atributos n√£o‚Äëchave.</li>
            </ol>
            <figure>
                <img src='../images/3-3-normalization_overview.svg' alt='Degraus de normaliza√ß√£o: 1FN, 2FN e 3FN.' />
                <figcaption class='tight-caption'><strong>Figura 3.3 ‚Äî </strong>Resumo das tr√™s primeiras formas normais.</figcaption>
            </figure>

            <div class='normalization-details'>
                <h3><strong>Primeira Forma Normal (1FN)</strong></h3>
                <p><strong>Objetivo:</strong> Eliminar atributos multivalorados e compostos</p>
                <p><strong>Regra:</strong> Todos os dados devem ser at√¥micos (indivis√≠veis)</p>
                <p><strong>Exemplo (n√£o normalizado):</strong></p>
                <pre class='code text'>ALUNO(matricula, nome, telefones)</pre>
                <p><strong>Problema:</strong> o atributo <code>telefones</code> armazena v√°rios valores (multivalorado).<br/>
                Exemplo de dado inv√°lido:<br/>
                <code>(1001, "Maria Silva", "(27) 99999-1111, (27) 98888-2222")</code></p>
                <p><strong>Solu√ß√£o (1FN):</strong> separar o atributo multivalorado em outra tabela:</p>
                <pre class='code text'>ALUNO(matricula, nome)
TELEFONE_ALUNO(matricula_aluno, telefone)</pre>
                <p><strong>Resultado:</strong> Cada c√©lula da tabela cont√©m um √∫nico valor at√¥mico.<br/>
                <em>(Este refinamento corresponde exatamente ao trecho do teu script SQL.)</em></p>
                <hr />
                <h3><strong>Segunda Forma Normal (2FN)</strong></h3>
                <p><strong>Objetivo:</strong> Eliminar depend√™ncias parciais</p>
                <p><strong>Regra:</strong> Nenhum atributo n√£o‚Äëchave deve depender de parte de uma chave composta</p>
                <p><strong>Exemplo (parcialmente normalizado):</strong><br/>
                Considere a tabela <strong>EMPRESTIMO_DETALHADO</strong> (antes da 2FN):</p>
                <pre class='code text'>EMPRESTIMO_DETALHADO(id_emprestimo, matricula_aluno, cod_exemplar, nome_aluno, data_emprestimo, data_prevista)</pre>
                <p><strong>Problema:</strong> <code>nome_aluno</code> depende apenas de <code>matricula_aluno</code>, que √© parte da chave composta <code>(id_emprestimo, matricula_aluno, cod_exemplar)</code>.</p>
                <p><strong>Solu√ß√£o (2FN):</strong> separar os dados do aluno para uma tabela pr√≥pria:</p>
                <pre class='code text'>ALUNO(matricula, nome)
EMPRESTIMO(id_emprestimo, matricula_aluno, cod_exemplar, data_emprestimo, data_prevista)</pre>
                <p><strong>Resultado:</strong> Agora todos os atributos n√£o‚Äëchave em <code>EMPRESTIMO</code> dependem da chave completa (<code>id_emprestimo</code>).<br/>
                <em>(Elimina√ß√£o da depend√™ncia parcial.)</em></p>
                <hr />
                <h3><strong>Terceira Forma Normal (3FN)</strong></h3>
                <p><strong>Objetivo:</strong> Eliminar depend√™ncias transitivas</p>
                <p><strong>Regra:</strong> Nenhum atributo n√£o‚Äëchave deve depender de outro atributo n√£o‚Äëchave</p>
                <p><strong>Exemplo (ainda n√£o em 3FN):</strong></p>
                <pre class='code text'>AVALIACAO(id_avaliacao, id_emprestimo, matricula_aluno, nota, comentario, nome_aluno)</pre>
                <p><strong>Problema:</strong> <code>nome_aluno</code> depende de <code>matricula_aluno</code> (atributo n√£o‚Äëchave).<br/>
                Logo, h√° uma <strong>depend√™ncia transitiva</strong>:</p>
                <pre class='code text'>id_avaliacao ‚Üí matricula_aluno ‚Üí nome_aluno</pre>
                <p><strong>Solu√ß√£o (3FN):</strong> remover o atributo derivado e manter apenas as chaves necess√°rias:</p>
                <pre class='code text'>ALUNO(matricula, nome)
AVALIACAO(id_avaliacao, id_emprestimo, matricula_aluno, nota, comentario)</pre>
                <p><strong>Resultado:</strong> Todos os atributos n√£o‚Äëchave em <code>AVALIACAO</code> dependem diretamente da chave prim√°ria (<code>id_avaliacao</code>), e n√£o de outros atributos n√£o‚Äëchave.</p>
                <hr />
                <h3><strong>Resumo final</strong></h3>
                <table class='content-table'>
                    <caption><strong>Tabela 3.1 - </strong>Resumo das tr√™s primeiras formas normais.</caption>
                    <thead>
                        <tr>
                            <th>Forma Normal</th>
                            <th>Objetivo</th>
                            <th>Exemplo de refinamento (contexto biblioteca)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>1FN</strong></td>
                            <td>Eliminar atributos multivalorados</td>
                            <td>Separar <code>telefones</code> de <code>ALUNO</code> ‚Üí criar <code>TELEFONE_ALUNO</code></td>
                        </tr>
                        <tr>
                            <td><strong>2FN</strong></td>
                            <td>Eliminar depend√™ncias parciais</td>
                            <td>Empr√©stimo com <code>nome_aluno</code> ‚Üí separar <code>ALUNO</code> e <code>EMPRESTIMO</code></td>
                        </tr>
                        <tr>
                            <td><strong>3FN</strong></td>
                            <td>Eliminar depend√™ncias transitivas</td>
                            <td>Avalia√ß√£o com <code>nome_aluno</code> ‚Üí manter <code>AVALIACAO</code> referenciando <code>ALUNO</code></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table class='box-table warning-table'>
                <tr>
                    <td class='box-content warning' role='note' aria-labelledby='imp-title-3-3'>
                        <div id='imp-title-3-3' class='box-title'><img src='../images/icon-importante.png' class='icon-img' alt='Importante'><strong>Importante</strong></div>
                        <div>
                            <p>Normalizar <strong>n√£o</strong> √© um fim em si: busque clareza de chaves e integridade; 3FN costuma ser suficiente para a maioria dos projetos.</p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec3-4'>
            <h2>3.4 Regras de Mapeamento e Conven√ß√µes <a class='self-link' href='#sec3-4' aria-label='Link para esta se√ß√£o'>üîó</a></h2>
            <table class='box-table tip-table'>
                <tr>
                    <td class='box-content tip definition' role='note' aria-labelledby='def-title-3-4'>
                        <div id='def-title-3-4' class='box-title'><img src='../images/icon-definicao.png' class='icon-img' alt='Defini√ß√£o'><strong>Algoritmo de Mapeamento ER ‚Üí Modelo L√≥gico</strong></div>
                        <div>
                            <ul>
                                <li><strong>Regra 1</strong> ‚Äî Entidade regular: vira tabela com todos os atributos; escolha a PK.</li>
                                <li><strong>Regra 2</strong> ‚Äî Entidade fraca: vira tabela contendo PK da propriet√°ria como FK; PK composta.</li>
                                <li><strong>Regra 3</strong> ‚Äî Relacionamento 1:1: incluir PK da outra entidade como FK no lado de participa√ß√£o total.</li>
                                <li><strong>Regra 4</strong> ‚Äî Relacionamento 1:N: incluir PK do lado 1 como FK na tabela do lado N.</li>
                                <li><strong>Regra 5</strong> ‚Äî Relacionamento N:M: criar <strong>tabela associativa</strong> com FKs das entidades; PK composta.</li>
                                <li><strong>Regra 6</strong> ‚Äî Atributo multivalorado: criar tabela pr√≥pria com FK para a entidade.</li>
                                <li><strong>Regra 7</strong> ‚Äî Relacionamento n‚Äë√°rio: criar tabela com FKs de todas as entidades participantes.</li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec3-5'>
            <h2>3.5 Exportando o C√≥digo DDL SQL <a class='self-link' href='#sec3-5' aria-label='Link para esta se√ß√£o'>üîó</a></h2>
            <p>O <strong>brModelo (Web)</strong> permite <strong>gerar o SQL</strong> automaticamente a partir do diagrama ER. Nesta etapa, vamos apenas <strong>mostrar o processo</strong> e um <strong>exemplo m√≠nimo</strong>; o estudo de caso completo com SQL ficar√° no Cap√≠tulo 4.</p>
            <p><strong>Passo a passo no brModelo</strong> (fluxo correto):</p>
            <ol>
                <li><strong>Modelo Conceitual (ER)</strong>: crie/abra o diagrama, valide nomes em <strong>snake_case</strong>, defina <em>PK</em> e cardinalidades e garanta a coer√™ncia (1FN‚Äì3FN quando necess√°rio).</li>
                <li><strong>Gerar Modelo L√≥gico</strong>: ainda no editor conceitual, clique no √≠cone de <em>tabela</em> para converter automaticamente para o n√≠vel <strong>Relacional</strong>; revise <em>tabelas</em>, <em>PK/FK</em> e tabelas associativas.</li>
                <li><strong>Gerar SQL (DDL)</strong>: no editor l√≥gico, clique no √≠cone de <em>banco de dados</em> para exportar o script; escolha o <em>dialeto</em> (se dispon√≠vel), revise tipos e restri√ß√µes, copie o SQL e teste no SGBD (detalhes no Cap. 4).</li>
            </ol>
            <figure class='listing'>
                <figcaption class='listing-title'><strong>C√≥digo 3 ‚Äî </strong>Exemplo m√≠nimo de DDL (aluno, livro, reserva)</figcaption>
                <pre class='code sql'>
CREATE TABLE aluno (
    matricula INTEGER NOT NULL,
    nome VARCHAR(100) NOT NULL,
    PRIMARY KEY (matricula)
);

CREATE TABLE livro (
    isbn INTEGER NOT NULL,
    titulo VARCHAR(150) NOT NULL,
    PRIMARY KEY (isbn)
);

CREATE TABLE reserva (
    id_reserva INTEGER NOT NULL,
    matricula_aluno INTEGER NOT NULL,
    isbn INTEGER NOT NULL,
    data_reserva DATE NOT NULL,
    status VARCHAR(20) NOT NULL,
    PRIMARY KEY (id_reserva),
    FOREIGN KEY (matricula_aluno) REFERENCES aluno(matricula),
    FOREIGN KEY (isbn) REFERENCES livro(isbn)
);
</pre>
            </figure>
        </section>

        <section id='sec3-6'>
            <h2>3.6 Estudo de Caso: Modelo L√≥gico da Biblioteca <a class='self-link' href='#sec3-6' aria-label='Link para esta se√ß√£o'>üîó</a></h2>
            <table class='box-table case-table'>
                <tr>
                    <td class='box-content case' role='note' aria-labelledby='case-title-3-6'>
                        <div id='case-title-3-6' class='box-title'><img src='../images/icon-estudodecaso.png' class='icon-img' alt='Estudo de Caso'><strong>Estudo de Caso</strong></div>
                        <div>
                            <p><strong>Base</strong>: Use o Estudo de Caso do Cap√≠tulo 2 (Modelo ER da Biblioteca) como refer√™ncia. Considere o conjunto ampliado de entidades e relacionamentos: <em>aluno</em>, <em>endereco</em>, <em>telefone</em>, <em>bibliotecario</em>, <em>livro</em>, <em>exemplar</em>, <em>autor</em>, <em>emprestimo</em>, <em>devolucao</em>, <em>reserva</em>, <em>multa</em>, <em>avaliacao</em>.</p>
<p><strong>√änfase</strong>: Mapeie corretamente os relacionamentos <strong>N:N</strong> por meio de <em>tabelas associativas</em>, em especial <code>livro_autor</code> (livro ‚Üî autor). Considere tamb√©m <code>emprestimo</code> (aluno ‚Üî exemplar, com <code>data_emprestimo</code> e <code>data_prevista</code>), <code>devolucao</code> (associada a <code>emprestimo</code>, com <code>data_devolucao</code>), <code>reserva</code> (aluno ‚Üî livro, com <code>data_reserva</code> e <code>status</code>) e <code>avaliacao</code> (aluno ‚Üî emprestimo, com <code>nota</code>, <code>data_avaliacao</code>, <code>comentario</code>).</p>
                            <p><strong>Atividade</strong>:</p>
                            <ul>
                                <li>Derive o <strong>esquema relacional</strong> completo a partir do modelo ER: defina <strong>PKs</strong> e <strong>FKs</strong> expl√≠citas.</li>
                                <li>Crie <strong>tabelas associativas</strong> para cada relacionamento N:N (ex.: <code>livro_autor(isbn FK, id_autor FK)</code> com <strong>PK composta</strong>).</li>
                                <li>Mapeie <strong>atributos compostos</strong> e <strong>multivalorados</strong> (ex.: <code>telefone_aluno(matricula_aluno FK, telefone)</code>), garantindo <strong>1FN</strong>.</li>
                                <li>Implemente <strong>restri√ß√µes de integridade</strong>: <em>NOT NULL</em>, <em>UNIQUE</em> e pol√≠ticas <em>ON DELETE</em> coerentes (<em>CASCADE</em>, <em>RESTRICT</em>, <em>SET NULL</em>).</li>
                                <li>Valide <strong>cardinalidades</strong> e <strong>participa√ß√µes</strong> via FKs e colunas obrigat√≥rias; refine at√© <strong>3FN</strong>.</li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec3-7'>
            <h2>3.7 Exerc√≠cios Complementares <a class='self-link' href='#sec3-7' aria-label='Link para esta se√ß√£o'>üîó</a></h2>
            <table class='box-table complementary-table'>
                <tr>
                    <td class='box-content complementary' role='note' aria-labelledby='comp-title-3-7'>
                        <div id='comp-title-3-7' class='box-title'><img src='../images/icon-complementar.png' class='icon-img' alt='Exerc√≠cios Complementares'><strong>Exerc√≠cios Complementares</strong></div>
                        <div>
                            <p><strong>Objetivo</strong>: Fixar 1FN, 2FN e 3FN em um dom√≠nio de varejo.</p>
                            <p><strong>Contexto</strong>: Varejo ‚Äî rede de lojas com clientes, itens e compras. Cada compra registra itens e quantidades; clientes podem ter m√∫ltiplos telefones e endere√ßo composto; e cada cliente √© atendido por um gerente respons√°vel. Este recorte foca normalizar cadastro e compras para reduzir redund√¢ncias e anomalias.</p>
                            <p><strong>Cen√°rio inicial (n√£o normalizado)</strong>:</p>
                            <table class='content-table compact narrow'>
                                <caption><strong>Tabela 3.2 - </strong>Cen√°rio n√£o normalizado (varejo).</caption>
                                <thead>
                                    <tr>
                                        <th>cliente</th>
                                        <th>nome</th>
                                        <th>endereco</th>
                                        <th>tel</th>
                                        <th>cod_gerente</th>
                                        <th>gerente</th>
                                        <th>item</th>
                                        <th>qtd</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>joao_silva</td>
                                        <td>rua_a, bairro_x</td>
                                        <td>9999-1111, 8888-2222</td>
                                        <td>10</td>
                                        <td>maria_lima</td>
                                        <td>50</td>
                                        <td>2</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p><strong>Tarefas</strong>:</p>
                            <ul>
                                <li>Aplicar <strong>1FN</strong>: decompor <code>endereco</code> e criar <code>telefone_cliente</code> com <code>cliente_id</code> como FK.</li>
                                <li>Aplicar <strong>2FN</strong> (se houver chave composta): separar atributos que dependem apenas de <code>cliente_id</code>.</li>
                                <li>Aplicar <strong>3FN</strong>: isolar depend√™ncia transitiva (<code>codigo_gerente</code> ‚Üí <code>nome_gerente</code>) em <code>gerente</code>.</li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec3-8'>
            <h2>3.8 Exerc√≠cios Integrados <a class='self-link' href='#sec3-8' aria-label='Link para esta se√ß√£o'>üîó</a></h2>
            <table class='box-table integrated-table'>
                <tr>
                    <td class='box-content integrated' role='note' aria-labelledby='int-title-3-8'>
                        <div id='int-title-3-8' class='box-title'><img src='../images/icon-integrado.png' class='icon-img' alt='Exerc√≠cios Integrados'><strong>Exerc√≠cios Integrados</strong></div>
                        <div>
                            <p><strong>Objetivo</strong>: Mapear frequ√™ncia de <em>pr√°ticas corporais</em> por alunos ao longo do tempo usando regras N:M.</p>
                            <p><strong>Contexto</strong>: Educa√ß√£o F√≠sica ‚Äî a escola registra as pr√°ticas corporais realizadas pelos alunos (corrida, nata√ß√£o, dan√ßa, alongamento etc.), com data e dura√ß√£o, para acompanhar frequ√™ncia, carga de treino e evolu√ß√£o ao longo do tempo. Indicadores agregados por per√≠odo e tipo de pr√°tica ajudam professores a planejar interven√ß√µes.</p>
                            <p><strong>Modelo Conceitual</strong>: entidades <code>aluno</code>, <code>pratica_corporal</code>; relacionamento <code>registra</code> com atributos <code>data</code>, <code>duracao</code>.</p>
                            <figure>
                                <img src='../images/3-7-education_practice_mapping.svg' alt='Mapeamento N:M entre aluno e pr√°tica via registro_pratica com data e dura√ß√£o.' />
                                <figcaption><strong>Figura 3.4 ‚Äî </strong>Registro de pr√°ticas: tabela associativa <code>registro_pratica</code> com PK composta e FKs.</figcaption>
                            </figure>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section id='sec3-9'>
            <h2>3.9 Gabaritos <a class='self-link' href='#sec3-9' aria-label='Link para esta se√ß√£o'>üîó</a></h2>
            <table class='box-table gabarito-table'>
                <tr>
                    <td class='box-content gabarito' role='note' aria-labelledby='gab-title-3-9'>
                        <div id='gab-title-3-9' class='box-title'><img src='../images/icon-gabarito.png' class='icon-img' alt='Gabarito'><strong>Gabaritos</strong></div>
                        <div>
                            <p><strong>Estudo de Caso ‚Äî Biblioteca</strong></p>
                            <ul>
                                <li><code>aluno(matricula PK, nome)</code></li>
                                <li><code>livro(isbn PK, titulo)</code></li>
                                <li><code>exemplar(cod_exemplar PK, isbn FK)</code></li>
                                <li><code>emprestimo(id_emprestimo PK, matricula_aluno FK, cod_exemplar FK, data_emprestimo, data_prevista)</code></li>
                                <li><code>devolucao(id_devolucao PK, id_emprestimo FK, data_devolucao)</code></li>
                                <li><code>reserva(id_reserva PK, matricula_aluno FK, isbn FK, data_reserva, status)</code></li>
                                <li><code>autor(id_autor PK, nome)</code></li>
                                <li><code>livro_autor(isbn FK, id_autor FK) PK composta (isbn, id_autor)</code></li>
                                <li><code>avaliacao(id_avaliacao PK, id_emprestimo FK, nota, data_avaliacao, comentario)</code></li>
                                <li><code>telefone_aluno(matricula_aluno FK, telefone) PK composta (matricula_aluno, telefone)</code></li>
                            </ul>
                            <p><strong>Nota</strong>: pol√≠ticas <code>ON DELETE</code> e demais a√ß√µes ser√£o definidas no Cap√≠tulo 4.</p>
                            <hr />
                            <p><strong>Exerc√≠cios Complementares ‚Äî Dom√≠nio de Varejo</strong></p>
                            <ul>
                                <li><code>cliente(cliente_id PK, nome_cliente, rua, bairro, codigo_gerente FK)</code></li>
                                <li><code>gerente(codigo_gerente PK, nome_gerente)</code></li>
                                <li><code>telefone_cliente(cliente_id FK, telefone) PK composta (cliente_id, telefone)</code></li>
                                <li><code>item(item_id PK, descricao)</code></li>
                                <li><code>compra(cliente_id FK, item_id FK, quantidade) PK composta (cliente_id, item_id)</code></li>
                            </ul>
                            <hr />
                            <p><strong>Exerc√≠cios Integrados ‚Äî Educa√ß√£o F√≠sica</strong></p>
                            <ul>
                                <li><code>aluno(matricula PK, nome)</code></li>
                                <li><code>pratica_corporal(id_pratica PK, nome)</code></li>
                                <li><code>registro_pratica(matricula_aluno FK, id_pratica FK, data, duracao) PK composta (matricula_aluno, id_pratica, data)</code></li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>
        </section>
        <div class='page-foot'>Prof. Rafael Vargas Mesquita ‚Äî Apostila: Banco de Dados ‚Ä¢ Cap√≠tulo 3</div>
    </div>
</body>

</html>